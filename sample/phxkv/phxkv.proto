syntax = "proto3";

package phxkv;

option cc_generic_services = false;

service PhxKVServer {
	rpc Put(KVOperator) returns (KVResponse) { }
	rpc GetLocal(KVOperator) returns (KVResponse) { }
	rpc GetGlobal(KVOperator) returns (KVResponse) { }
}



message KVOperator
{
	string key = 1;
	bytes oldvalue = 2;
	bytes value = 3;
	uint32 operator = 4;
	bool external = 5;
};

message KVData
{
	bytes value = 1;
};

message KVResponse
{
	bytes data = 1;
	int32 ret = 2;
	uint64 master_nodeid = 3;
};
